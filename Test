@Test
public void testCreateMomProductCodeListNode() throws Exception {
    // --- Arrange ---

    // Get a real JCR Node from SlingContext
    Session session = context.resourceResolver().adaptTo(Session.class);
    Node root = session.getRootNode();
    Node momProductCodeNode = root.addNode("testMomProductCode", "nt:unstructured");

    // Build a real MomProductCode with all fields
    MomProductCode code = new MomProductCode();
    code.setId("id1");
    code.setAssociation("assoc1");
    code.setAssociationLevel("L1");
    code.setStateCode("CA");
    code.setTier("Tier1");
    code.setMomProductCode("momCode_123");
    code.setAcquisitionStrategyCode("AS1");
    code.setCmaId("CMA1");

    // --- Act ---
    OfferProductUtil.createMomProductCodeListNode(momProductCodeNode, code);

    // --- Assert ---
    assertEquals("id1",  momProductCodeNode.getProperty("id").getString());
    assertEquals("assoc1", momProductCodeNode.getProperty("association").getString());
    assertEquals("L1",   momProductCodeNode.getProperty("associationLevel").getString());
    assertEquals("CA",   momProductCodeNode.getProperty("stateCode").getString());
    assertEquals("Tier1",momProductCodeNode.getProperty("tier").getString());
    assertEquals("momCode_123",
                 momProductCodeNode.getProperty("momProductCode").getString());
    assertEquals("AS1",
                 momProductCodeNode.getProperty("acquisitionStrategyCode").getString());
    assertEquals("CMA1", momProductCodeNode.getProperty("cmaId").getString());
}
